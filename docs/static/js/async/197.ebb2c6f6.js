(()=>{var e={556:function(e,t,o){"use strict";e.exports=o.p+"bb442eaf0f0184d9.py"}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.m=e,o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/fontfreeze/",o.rv=function(){return"1.0.0-alpha.5"},o.b=self.location+"/../../../../",o.ruid="bundler=rspack@1.0.0-alpha.5",!function(){let e,t,r=0,n=fetch;if("undefined"!=typeof TransformStream){let e=performance.now();function a(t){r+=t;let o=performance.now();o-e>1e3&&(postMessage({progress:(100*r/16253175).toFixed(1)}),e=o)}let t=XMLHttpRequest;XMLHttpRequest=class extends t{set onprogress(e){let t=0;super.onprogress=function(o){a(o.loaded-t),t=o.loaded,e(o)}}},globalThis.fetch=async e=>{let t=await n(e),o=new TransformStream({transform(e,t){a(e.byteLength),t.enqueue(e)}});return new Response(t.body.pipeThrough(o),t)}}async function s(){e=await loadPyodide({fullStdLib:!1}),await e.loadPackage("brotli"),await e.loadPackage("fonttools")}async function i(t){let o=await fetch(t),r=new Uint8Array(await o.arrayBuffer());e.FS.writeFile("temp",r);let n=e.runPython("loadFont('temp')").toJs({dict_converter:Object.fromEntries});return n.preview&&(n.preview=c()),n}importScripts("https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"),async function t(){try{let[t,a]=await Promise.all([s(),n(new URL(o(556),o.b)).then(e=>e.text())]);e.runPython(a),console.log("Total loaded bytes: "+r),postMessage("initialized")}catch(e){postMessage({error:e.message})}}(),addEventListener("message",async o=>{if(o.ports[0])try{let r;let[n,a]=o.data;"open"==n&&(r=await i(a)),"save"==n&&(r=function(o){e.globals.get("processFont")(o);let r=new Blob([e.FS.readFile("output")],{type:"font/"+o.options.format});return t&&URL.revokeObjectURL(t),t=URL.createObjectURL(r)}(a)),"legacy"==n&&(r=function(){return e.globals.get("processLegacy")(),c()}()),o.ports[0].postMessage({success:!0,data:r})}catch(e){o.ports[0].postMessage({success:!1,data:e.message})}});function c(){let t=new Blob([e.FS.readFile("input")],{type:"font/ttf"});return URL.createObjectURL(t)}}()})();