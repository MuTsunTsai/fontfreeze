(()=>{"use strict";var e={880:function(e,t,l){let n,a;var o=l(567);let i=(0,o.qj)({localFonts:[],localFont:"",localFamily:"",unavailableFonts:[],unicodeRange:"",loading:null,font:null,glyphs:"",subsetMode:"exclude",previewSize:12,running:!1,message:null,url:null,download:null,previewIndex:0,version:" v1.11.1",features:{},variations:{},options:{suffix:"",keepVar:!1,family:"",subfamily:"",typo_family:"",typo_subfamily:"",fixContour:!1,singleSub:!0,customNames:!1,lineHeight:0,spacing:0,target:"",format:"ttf"}}),s=new Worker(new URL(l.p+l.u("192"),l.b),Object.assign({},{name:"worker"},{type:void 0})),r=new Promise((e,t)=>{let l=n=>{"initialized"==n.data?(s.removeEventListener("message",l),e()):"error"in n.data?t(Error(n.data.error)):"progress"in n.data&&i.loading&&(i.loading=`packages (${n.data.progress}%)`)};s.addEventListener("message",l)});function c(e,t){return new Promise((l,n)=>{let a=new MessageChannel;s.postMessage([e,t],[a.port2]),a.port1.onmessage=e=>{let{success:t,data:a}=e.data;t?l(a):n(Error(a))}})}let u=["abvm","abvs","akhn","blwf","blwm","blws","ccmp","cfar","cjct","curs","dist","dtls","fin2","fin3","fina","flac","half","haln","init","isol","ljmo","locl","ltra","ltrm","mark","med2","medi","mkmk","nukt","pref","pres","pstf","psts","rclt","rkrf","rlig","rphf","rtla","rtlm","rvrn","ssty","stch","tjmo","vjmo","DELT"],f={ttf:{description:"TTF font",accept:{"font/ttf":".ttf"}},woff2:{description:"WOFF2 font",accept:{"font/woff2":".woff2"}}},d="Please try re-exporting the font with editors such as FontForge and see if it fixes the issue. If it still doesn't, please submit an issue.",m=document.createElement("style");async function p(e,t){if(!await g(e)){if(!t.preview)try{let e=await c("legacy");if(await g(e))return}catch(e){console.log(e)}gtag("event","preview_failed"),alert("Font preview won't work for this font. "+d)}}function g(e){n&&URL.revokeObjectURL(n),n=e;let t=m.sheet;return t.cssRules.length>0&&t.deleteRule(0),new Promise(e=>{document.fonts.onloadingdone=t=>{e(t.fontfaces.length>0)},t.insertRule(`@font-face {font-family: preview${++i.previewIndex};src: url('${n}');}`)})}document.head.appendChild(m);let y=fetch("sample.txt").then(e=>e.text());var v=l(111),h=l.n(v);let b=e=>h().getOrCreateInstance(e);function w(e){return JSON.parse(JSON.stringify(e))}let _={key:0},U={class:"d-flex flex-wrap"},S={class:"form-check"},k=["id",".indeterminate","onUpdate:modelValue","onChange"],x=["for"],D=new Set,F=(0,o.aZ)({__name:"features",setup:e=>(e,t)=>{var l,n;return(null==(n=(0,o.SU)(i).font)||null==(l=n.gsub)?void 0:l.length)?((0,o.wg)(),(0,o.iD)("div",_,[t[0]||(t[0]=(0,o._)("h5",null,"Features",-1)),(0,o._)("div",U,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,o.SU)(i).font.gsub,e=>((0,o.wg)(),(0,o.iD)("div",{style:{"flex-basis":"5.5rem"},key:e},[(0,o._)("div",S,[(0,o.wy)((0,o._)("input",{type:"checkbox",class:"form-check-input",id:"chk"+e,".indeterminate":void 0===(0,o.SU)(i).features[e],"onUpdate:modelValue":t=>(0,o.SU)(i).features[e]=t,onChange:t=>{!0===a[e]&&(i.features[e]=void 0),void 0===a[e]&&(i.features[e]=!1),a[e]=i.features[e]}},null,40,k),[[o.e8,(0,o.SU)(i).features[e]]]),(0,o._)("label",{class:"form-check-label",for:"chk"+e},(0,o.zw)(e),9,x)])]))),128))])])):(0,o.kq)("",!0)}});async function z(e){gtag("event","open_ttf");try{await C(e,e.name)}catch(t){console.log(t),alert(`"${e.name}" is not a valid font file, or is corrupted. `+d)}}async function C(e,t){let l;i.loading="packages",await r,i.loading="font";let n=URL.createObjectURL(e);try{l=await c("open",n)}catch(e){throw URL.revokeObjectURL(n),i.loading=null,e}console.log(w(l)),l.preview&&(URL.revokeObjectURL(n),n=l.previewUrl),l.fileName=t,l.fileSize=(o=e.size)<1024?o+"B":(o/=1024)<1024?o.toFixed(1)+"KiB":(o/=1024).toFixed(1)+"MiB",l.gsub=l.gsub.filter(e=>!u.includes(e)),i.variations={},i.glyphs="",i.options={suffix:"Freeze",family:(s=l).family,keepVar:!1,subfamily:s.subfamily,typo_family:s.typo_family||s.family,typo_subfamily:s.typo_subfamily||"",fixContour:!1,singleSub:!0,customNames:!1,lineHeight:0,spacing:0,target:"calt",format:"ttf"};var o,s,f=l.gsub;if(!function(e){if(e.length!=D.size)return!1;for(let t of e)if(!D.has(t))return!1;return!0}(f))for(let e of(D.clear(),i.features={},a={},f))D.add(e),i.features[e]=a[e]=!1;if(l.fvar)for(let e of l.fvar.axes)i.variations[e.tag]=e.default;i.font=l,await p(n,l),i.loading=null}let O=document.createElement("style");async function R(){gtag("event","show_local"),await navigator.permissions.query({name:"local-fonts"});let e=await window.queryLocalFonts();0!=e.length&&(function(e){let t=O.sheet;for(;t.cssRules.length;)t.deleteRule(0);for(let l of e)t.insertRule(`@font-face { font-family: 'local ${l.fullName}'; src: local('${l.fullName}'), local('${l.postscriptName}');}`)}(e),i.localFonts=e,b("#local").show())}async function j(){let e;gtag("event","open_local");let t=i.localFonts[i.localFont];try{e=await t.blob()}catch(e){e instanceof Error&&alert("An error occur: "+e.message),i.unavailableFonts.push(t.postscriptName);return}finally{i.localFamily&&(i.localFamily=""),i.localFont&&(i.localFont="")}b("#local").hide();try{await C(e,t.fullName)}catch(e){e instanceof Error&&alert("An error occur: "+e.message)}}document.head.appendChild(O);let N={class:"text-center my-3"},V={class:"mb-3 mt-1"},L=["src"],E={class:"mt-3 d-flex justify-content-center",style:{gap:"1rem"}},T={key:0},q=["disabled"],M={class:"mt-3"},$={key:0},H={key:1},I={key:2},B=(0,o.aZ)({__name:"header",setup(e){let t="queryLocalFonts"in window;return(e,l)=>((0,o.wg)(),(0,o.iD)("header",N,[l[6]||(l[6]=(0,o._)("picture",null,[(0,o._)("source",{srcset:"logo.webp",type:"image/webp"}),(0,o._)("img",{src:"logo.png",width:"800",height:"130",style:{"max-width":"100%",height:"auto"}})],-1)),l[7]||(l[7]=(0,o._)("div",{style:{"margin-top":"-1.5rem"}}," Freeze variations and features in font. ",-1)),(0,o._)("div",V,[(0,o._)("img",{class:"me-1 me-sm-2 me-md-3 mt-2",alt:"GitHub package.json version",src:`https://img.shields.io/badge/version-v${(0,o.SU)("1.11.1")}-green`},null,8,L),l[2]||(l[2]=(0,o._)("a",{class:"me-1 me-sm-2 me-md-3",href:"https://github.com/mutsuntsai/fontfreeze"},[(0,o._)("img",{alt:"GitHub Repo stars",class:"mt-2",src:"https://img.shields.io/github/stars/mutsuntsai/fontfreeze?logo=GitHub&color=yellow"})],-1)),l[3]||(l[3]=(0,o._)("a",{href:"https://github.com/mutsuntsai"},[(0,o._)("img",{class:"mt-2",src:"https://img.shields.io/badge/%C2%A92022--2025-Mu--Tsun%20Tsai-blue"})],-1))]),(0,o._)("input",{type:"file",id:"upload",onChange:l[0]||(l[0]=e=>(function(e){var t;let l=e.target,n=null==(t=l.files)?void 0:t[0];n&&(l.value="",z(n))})(e)),title:"Open font file"},null,32),(0,o._)("div",E,[(0,o._)("label",{type:"button",class:(0,o.C_)(["btn btn-success",{disabled:(0,o.SU)(i).loading}]),for:"upload"},l[4]||(l[4]=[(0,o._)("div",{class:"display-4"},"\uD83D\uDCC2",-1),(0,o._)("div",null,"Open font file",-1)]),2),t?((0,o.wg)(),(0,o.iD)("span",T,[(0,o._)("button",{type:"button",disabled:!!(0,o.SU)(i).loading,class:"btn btn-secondary",onClick:l[1]||(l[1]=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,o.SU)(R)&&(0,o.SU)(R)(...t)})},l[5]||(l[5]=[(0,o._)("div",{class:"display-4 text-warning"},"\uD835\uDD6C",-1),(0,o._)("div",null,"Select local font",-1)]),8,q)])):(0,o.kq)("",!0)]),(0,o._)("div",M,[(0,o.SU)(i).loading?((0,o.wg)(),(0,o.iD)("div",$,"Loading "+(0,o.zw)((0,o.SU)(i).loading)+". Please wait...",1)):(0,o.SU)(i).font?((0,o.wg)(),(0,o.iD)("div",H,(0,o.zw)((0,o.SU)(i).font.fileName)+" ("+(0,o.zw)((0,o.SU)(i).font.fileSize)+")",1)):((0,o.wg)(),(0,o.iD)("div",I,"Open a font or drop a font file anywhere!"))])]))}}),W={class:"dropzone"},A=(0,o.aZ)({__name:"dropzone",setup:e=>((0,o.bv)(()=>{let e=document.querySelector(".dropzone"),t=(t,l)=>{t.stopPropagation(),t.preventDefault(),e.classList.toggle("drag",l)};document.body.addEventListener("dragover",e=>t(e,!0)),e.addEventListener("dragleave",e=>t(e,!1)),e.addEventListener("drop",e=>{if(e.dataTransfer){t(e,!1);for(let t=0;t<e.dataTransfer.items.length;t++){let l=e.dataTransfer.items[t];if("file"==l.kind){let e=l.getAsFile();e&&z(e);return}}}})}),(e,t)=>((0,o.wg)(),(0,o.iD)("div",W,t[0]||(t[0]=[(0,o._)("div",{class:"display-1"},[(0,o._)("span",null,"Drop font file")],-1)]))))});function P(){let e=function(){let e=new Set;for(let t=0;t<i.glyphs.length;t++){let l=i.glyphs.codePointAt(t);i.glyphs.charCodeAt(t)!=l&&t++,e.add(l)}let t=[...e];return t.sort((e,t)=>e-t),t}();if("exclude"==i.subsetMode){let t=[[0,1114111]];if(0==e.length)return"";for(let l of e){let e=t.find(e=>e[0]<=l&&l<=e[1]);if(!e)continue;let n=e[1];e[1]=l-1,t.push([l+1,n])}return t.filter(e=>e[0]<=e[1]).map(Y).join(", ").toUpperCase()}{if(0==e.length)return"U+0";let t=[],l=e[0],n=l;for(let a=1;a<=e.length;a++){let o=e[a];n==o-1||(t.push([l,n]),l=o),n=o}return t.map(Y).join(", ").toUpperCase()}}function Y(e){let t="U+"+e[0].toString(16);return e[1]>e[0]&&(t+="-"+e[1].toString(16)),t}async function Z(){if(!i.message&&!i.running){gtag("event","save_"+i.options.format);try{if("showSaveFilePicker"in window){i.message=null;let e=await showSaveFilePicker({suggestedName:G(),types:[f[i.options.format]]});await K();let t=await J(),l=await fetch(t),n=await l.arrayBuffer(),a=new Blob([n],{type:"font/"+i.options.format}),o=await e.createWritable();await o.write(a),await o.close(),i.message||(i.message="Generating complete!"),setTimeout(()=>i.message=null,3e3)}else{await K();let e=await J();i&&(i.url=e),i.download=G()}}catch(e){console.log(e)}i.running&&(i.running=!1)}}function K(){let e=new Promise(e=>{addEventListener("animationstart",e,{once:!0})});return i.running=!0,e}function G(){return i.font.fileName.replace(/\.[a-z0-9]+$/i,"")+"_freeze."+i.options.format}async function J(){try{if(!i.font)throw Error();i.options.family=i.options.family.trim(),i.options.typo_subfamily=i.options.typo_subfamily.trim();let e=w(i.options);e.suffix&&(e.family&&e.family.length+e.suffix.length<32&&(e.family+=" "+e.suffix),e.typo_family&&(e.typo_family+=" "+e.suffix));let t=i.font.gsub.filter(e=>!0===i.features[e]);if(t.length&&4!=i.options.target.length)throw Error("Must specify a valid activation target.");let l={options:e,version:i.version,unicodes:P(),variations:i.variations,features:t,disables:i.font.gsub.filter(e=>void 0===i.features[e])};return await c("save",w(l))}catch(e){throw e instanceof Error&&alert("An error occur: "+e.message),e}}let Q={key:1,class:"modal fade",id:"info"},X={class:"modal-dialog modal-dialog-centered modal-lg"},ee={class:"modal-content"},et={class:"modal-body"},el={class:"w-100"},en={key:0},ea={key:1},eo=["href"],ei={key:1},es={key:2},er=["href"],ec={key:1},eu={key:3},ef={key:4},ed={key:5},em=(0,o.aZ)({__name:"info",setup(e){function t(){b("#info").show()}let l=(0,o.Fl)(()=>{let e=i.font;return!!e&&(e.description||e.designer||e.manufacturer||e.copyright||e.trademark)});return(e,n)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[l.value?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-secondary btn-sm",type:"button",onClick:t},"More info")):(0,o.kq)("",!0),(0,o.SU)(i).font?((0,o.wg)(),(0,o.iD)("div",Q,[(0,o._)("div",X,[(0,o._)("div",ee,[(0,o._)("div",et,[(0,o._)("table",el,[(0,o.SU)(i).font.description?((0,o.wg)(),(0,o.iD)("tr",en,[n[0]||(n[0]=(0,o._)("td",null,"Description",-1)),(0,o._)("td",{class:(0,o.C_)({small:(0,o.SU)(i).font.description.length>200})},(0,o.zw)((0,o.SU)(i).font.description),3)])):(0,o.kq)("",!0),(0,o.SU)(i).font.designer?((0,o.wg)(),(0,o.iD)("tr",ea,[n[1]||(n[1]=(0,o._)("td",null,"Designer",-1)),(0,o._)("td",null,[(0,o.SU)(i).font.designerURL?((0,o.wg)(),(0,o.iD)("a",{key:0,href:(0,o.SU)(i).font.designerURL},(0,o.zw)((0,o.SU)(i).font.designer),9,eo)):((0,o.wg)(),(0,o.iD)("span",ei,(0,o.zw)((0,o.SU)(i).font.designer),1))])])):(0,o.kq)("",!0),(0,o.SU)(i).font.manufacturer?((0,o.wg)(),(0,o.iD)("tr",es,[n[2]||(n[2]=(0,o._)("td",null,"Manufacturer",-1)),(0,o._)("td",null,[(0,o.SU)(i).font.vendorURL?((0,o.wg)(),(0,o.iD)("a",{key:0,href:(0,o.SU)(i).font.vendorURL},(0,o.zw)((0,o.SU)(i).font.manufacturer),9,er)):((0,o.wg)(),(0,o.iD)("span",ec,(0,o.zw)((0,o.SU)(i).font.manufacturer),1))])])):(0,o.kq)("",!0),(0,o.SU)(i).font.copyright?((0,o.wg)(),(0,o.iD)("tr",eu,[n[3]||(n[3]=(0,o._)("td",null,"Copyright",-1)),(0,o._)("td",null,(0,o.zw)((0,o.SU)(i).font.copyright),1)])):(0,o.kq)("",!0),(0,o.SU)(i).font.trademark?((0,o.wg)(),(0,o.iD)("tr",ef,[n[4]||(n[4]=(0,o._)("td",null,"Trademark",-1)),(0,o._)("td",null,(0,o.zw)((0,o.SU)(i).font.trademark),1)])):(0,o.kq)("",!0),(0,o.SU)(i).font.license?((0,o.wg)(),(0,o.iD)("tr",ed,[n[5]||(n[5]=(0,o._)("td",null,"license",-1)),(0,o._)("td",{class:(0,o.C_)({small:(0,o.SU)(i).font.license&&(0,o.SU)(i).font.license.length>200})},(0,o.zw)((0,o.SU)(i).font.license),3)])):(0,o.kq)("",!0)])]),n[6]||(n[6]=(0,o._)("div",{class:"modal-footer"},[(0,o._)("button",{class:"btn btn-primary",type:"button","data-bs-dismiss":"modal"},"OK")],-1))])])])):(0,o.kq)("",!0)],64))}}),ep={class:"row"},eg={class:"col-12 col-md-6 mt-2"},ey={class:"col-12 col-md-6 mt-md-2 pt-md-3"},ev={class:"form-check mt-3"},eh={class:"col-12 col-md-6 mt-2"},eb={class:"col-12 col-md-6 mt-2"},ew={class:"col-12 col-md-6 mt-2"},e_={class:"col-12 col-md-6 mt-2"},eU=["placeholder"],eS={class:"col-12 col-md-6 mt-2"},ek={class:"col-12 col-md-6 mt-2"},ex={class:"col-12 col-md-6 mt-2"},eD={class:"form-check mt-3"},eF={class:"col-12 col-md-6 mt-md-2"},ez={class:"form-check mt-3"},eC=(0,o.aZ)({__name:"options",setup:e=>(e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[t[22]||(t[22]=(0,o._)("h5",null,"Output options",-1)),(0,o._)("div",ep,[(0,o._)("div",eg,[t[10]||(t[10]=(0,o._)("label",null,[(0,o.Uk)(" Font family suffix "),(0,o._)("span",{class:"text-info",title:"Will be added after all family names. Default value is 'Freeze', suggesting that the font is generated with FontFreeze."},"ⓘ")],-1)),(0,o.wy)((0,o._)("input",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.SU)(i).options.suffix=e)},null,512),[[o.nr,(0,o.SU)(i).options.suffix]])]),(0,o._)("div",ey,[(0,o._)("div",ev,[(0,o.wy)((0,o._)("input",{type:"checkbox",class:"form-check-input",id:"chkContour","onUpdate:modelValue":t[1]||(t[1]=e=>(0,o.SU)(i).options.customNames=e)},null,512),[[o.e8,(0,o.SU)(i).options.customNames]]),t[11]||(t[11]=(0,o._)("label",{class:"form-check-label",for:"chkContour"},"Custom font names",-1))])]),(0,o.SU)(i).options.customNames?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",eh,[t[12]||(t[12]=(0,o._)("label",null,"Font family",-1)),(0,o.wy)((0,o._)("input",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>(0,o.SU)(i).options.family=e),placeholder:"Better be different from the original family name"},null,512),[[o.nr,(0,o.SU)(i).options.family]])]),(0,o._)("div",eb,[t[14]||(t[14]=(0,o._)("label",null,[(0,o.Uk)(" Font subfamily "),(0,o._)("span",{class:"text-info",title:"This can only be one of the four values."},"ⓘ")],-1)),(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>(0,o.SU)(i).options.subfamily=e)},t[13]||(t[13]=[(0,o._)("option",{value:"Regular"},"Regular",-1),(0,o._)("option",{value:"Bold"},"Bold",-1),(0,o._)("option",{value:"Italic"},"Italic",-1),(0,o._)("option",{value:"Bold Italic"},"Bold Italic",-1)]),512),[[o.bM,(0,o.SU)(i).options.subfamily]])]),(0,o._)("div",ew,[t[15]||(t[15]=(0,o._)("label",null,"Typographic family",-1)),(0,o.wy)((0,o._)("input",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>(0,o.SU)(i).options.typo_family=e)},null,512),[[o.nr,(0,o.SU)(i).options.typo_family]])]),(0,o._)("div",e_,[t[16]||(t[16]=(0,o._)("label",null,[(0,o.Uk)(" Typographic subfamily "),(0,o._)("span",{class:"text-info",title:"'Light', 'SemiBold' etc. Leave it blank to use the same setting as subfamily."},"ⓘ")],-1)),(0,o.wy)((0,o._)("input",{class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>(0,o.SU)(i).options.typo_subfamily=e),placeholder:(0,o.SU)(i).options.subfamily},null,8,eU),[[o.nr,(0,o.SU)(i).options.typo_subfamily]])])],64)):(0,o.kq)("",!0),(0,o._)("div",eS,[t[18]||(t[18]=(0,o._)("label",null,"Output format",-1)),(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":t[6]||(t[6]=e=>(0,o.SU)(i).options.format=e)},t[17]||(t[17]=[(0,o._)("option",{value:"ttf"},"TTF",-1),(0,o._)("option",{value:"woff2"},"WOFF2",-1)]),512),[[o.bM,(0,o.SU)(i).options.format]])]),(0,o._)("div",ek,[t[19]||(t[19]=(0,o._)("label",null,"Target feature for activation",-1)),(0,o.wy)((0,o._)("input",{class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>(0,o.SU)(i).options.target=e),placeholder:"Try 'calt' or 'rvrn'"},null,512),[[o.nr,(0,o.SU)(i).options.target]])]),(0,o._)("div",ex,[(0,o._)("div",eD,[(0,o.wy)((0,o._)("input",{type:"checkbox",class:"form-check-input",id:"chkSub","onUpdate:modelValue":t[8]||(t[8]=e=>(0,o.SU)(i).options.singleSub=e)},null,512),[[o.e8,(0,o.SU)(i).options.singleSub]]),t[20]||(t[20]=(0,o._)("label",{class:"form-check-label",for:"chkSub"},"Apply substitution by single-glyph features.",-1))])]),(0,o._)("div",eF,[(0,o._)("div",ez,[(0,o.wy)((0,o._)("input",{type:"checkbox",class:"form-check-input",id:"chkContour","onUpdate:modelValue":t[9]||(t[9]=e=>(0,o.SU)(i).options.fixContour=e)},null,512),[[o.e8,(0,o.SU)(i).options.fixContour]]),t[21]||(t[21]=(0,o._)("label",{class:"form-check-label",for:"chkContour"},"Fix contour overlap issues on macOS.",-1))])])])],64))}),eO={key:0},eR={class:"float-end"},ej={class:"form-check"},eN={key:0},eV={class:"d-flex mb-3"},eL={class:"flex-grow-1"},eE=["value"],eT=["onUpdate:modelValue","min","max","step"],eq=["onUpdate:modelValue","min","max","step"],eM=(0,o.aZ)({__name:"variable",setup(e){let t={ital:"Italic",opsz:"Optical size",slnt:"Slant",wdth:"Width",wght:"Weight"},l=(0,o.Fl)(()=>i.font&&i.font.fvar?i.font.fvar.instances:[]),n=(0,o.Fl)(()=>i.font&&i.font.fvar?i.font.fvar.axes:[]);function a(e){let t=e.max-e.min;return t>20?1:t>1?.1:.01}function s(){let e=document.getElementsByTagName("select")[0];e&&(e.value="")}return(e,r)=>(0,o.SU)(i).font.fvar?((0,o.wg)(),(0,o.iD)("div",eO,[(0,o._)("div",eR,[(0,o._)("div",ej,[(0,o.wy)((0,o._)("input",{type:"checkbox",class:"form-check-input",id:"chk_var","onUpdate:modelValue":r[0]||(r[0]=e=>(0,o.SU)(i).options.keepVar=e)},null,512),[[o.e8,(0,o.SU)(i).options.keepVar]]),r[2]||(r[2]=(0,o._)("label",{class:"form-check-label",for:"chk_var"},"Keep the font variable",-1))])]),r[5]||(r[5]=(0,o._)("h5",null,"Variations",-1)),(0,o.SU)(i).options.keepVar?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",eN,[(0,o._)("div",eV,[r[4]||(r[4]=(0,o._)("label",{class:"col-form-label pe-3"},"Predefined instances:",-1)),(0,o._)("div",eL,[(0,o._)("select",{onChange:r[1]||(r[1]=e=>(function(e){for(let t in i.options.typo_subfamily=e.name,e.coordinates)i.variations[t]=e.coordinates[t]})(l.value[Number(e.target.value)])),class:"form-select",required:""},[r[3]||(r[3]=(0,o._)("option",{value:"",hidden:""},"Select a predefined instance",-1)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.value,(e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:e.name+t,value:t},(0,o.zw)(e.name),9,eE))),128))],32)])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.value,(e,l)=>((0,o.wg)(),(0,o.iD)("div",{class:"mb-1",key:l},[(0,o.wy)((0,o._)("input",{type:"range",class:"form-range me-4",style:{width:"10rem"},onInput:s,"onUpdate:modelValue":t=>(0,o.SU)(i).variations[e.tag]=t,min:e.min,max:e.max,step:a(e)},null,40,eT),[[o.nr,(0,o.SU)(i).variations[e.tag],void 0,{number:!0}]]),(0,o.wy)((0,o._)("input",{type:"number",class:"form-control form-control-sm d-inline-block me-4",style:{width:"5rem"},"onUpdate:modelValue":t=>(0,o.SU)(i).variations[e.tag]=t,min:e.min,max:e.max,step:a(e),onInput:s},null,40,eq),[[o.nr,(0,o.SU)(i).variations[e.tag],void 0,{number:!0}]]),(0,o._)("label",null,(0,o.zw)(e.name?e.name:e.tag in t?t[e.tag]:e.tag),1)]))),128))]))])):(0,o.kq)("",!0)}});function e$(e,t){let l=window.getSelection(),n=e.textContent,a=Math.min(l.focusOffset,l.anchorOffset),o=Math.max(l.focusOffset,l.anchorOffset),i=n.substring(o);""==i&&(i="\n"),e.textContent=n.substring(0,a)+t+i,l.removeAllRanges();let s=document.createRange();s.setStart(e.childNodes[0],a+t.length),s.setEnd(e.childNodes[0],a+t.length),l.addRange(s)}let eH={class:"row align-items-baseline"},eI={class:"col-8 text-end"},eB={class:"me-3"},eW=(0,o.aZ)({__name:"preview",setup(e){async function t(){let e=document.querySelector("div.pre");if(function(e){try{let t="plaintext-only";return e.contentEditable=t,e.contentEditable==t}catch(e){return!1}}(e))e.innerText=await y;else e.contentEditable="true",e.addEventListener("keydown",t=>{13==t.keyCode&&(t.preventDefault(),t.stopPropagation(),e$(e,"\n"))}),e.addEventListener("paste",t=>{t.preventDefault(),e$(e,(t.originalEvent||t).clipboardData.getData("text/plain"))}),e.textContent=await y}return(0,o.bv)(()=>{t(),(0,o.m0)(()=>{var e;return e=i.unicodeRange=P(),void(m.sheet.cssRules[0].style.unicodeRange=e)})}),(e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",eH,[t[1]||(t[1]=(0,o._)("div",{class:"col-4"},[(0,o._)("h5",null,"Preview")],-1)),(0,o._)("div",eI,[(0,o._)("span",eB,(0,o.zw)((0,o.SU)(i).previewSize)+"pt",1),(0,o.wy)((0,o._)("input",{type:"range",class:"form-range",style:{width:"10rem"},min:"8",max:"48","onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.SU)(i).previewSize=e)},null,512),[[o.nr,(0,o.SU)(i).previewSize]])])]),(0,o._)("div",{class:"pre form-control p-3",style:(0,o.j5)(function(){if(!i.font)return null;let e=i.font.gsub.filter(e=>!1!==i.features[e]).map(e=>`'${e}' ${i.features[e]?"on":"off"}`).join(","),t=i.font.fvar?i.font.fvar.axes.map(e=>`'${e.tag}' ${i.variations[e.tag]}`).join(","):"normal",l=(i.font.lineHeight+i.options.lineHeight)/i.font.fontHeight,n=i.options.spacing/i.font.fontHeight;return`white-space: pre-line;font-family: preview${i.previewIndex};font-feature-settings: ${e};font-variation-settings: ${t};font-size: ${i.previewSize}pt;line-height: ${1.5*l};letter-spacing: ${n}em`}())},null,4)],64))}}),eA={key:0},eP={class:"mt-4 text-center"},eY={class:"d-inline-block"},eZ={class:"me-3"},eK={class:"row mt-3"},eG={class:"col-12 col-md-7"},eJ={class:"col-12 col-md-5"},eQ={key:0},eX={class:"row"},e0={class:"col-12 col-md-6 mt-2"},e1={class:"row"},e2={class:"col"},e3={class:"col-12 col-md-6 mt-2"},e5={class:"row"},e4={class:"col"},e8={class:"mt-5 row"},e6={class:"col"},e9=["disabled"],e7={key:0,class:"loading ms-2"},te={key:0,class:"col text-end"},tt=["href","download"],tl=(0,o.aZ)({__name:"main",setup(e){function t(e){let t=e.target,l=Number(t.value);(!t.value.trim()||Number.isNaN(l))&&(t.value="0"),Number.isInteger(l)||(t.value=Math.round(l).toString())}return(e,l)=>(0,o.SU)(i).font?((0,o.wg)(),(0,o.iD)("main",eA,[(0,o._)("div",eP,[(0,o._)("span",{style:(0,o.j5)(`vertical-align:-0.25rem; font-family: preview${(0,o.SU)(i).previewIndex};`),class:"text-primary h3 me-4"},(0,o.zw)((0,o.SU)(i).font.family),5),(0,o._)("div",eY,[(0,o._)("span",eZ,(0,o.zw)((0,o.SU)(i).font.version),1),(0,o.Wm)(em)])]),(0,o.Wm)(eM),(0,o.Wm)(F),(0,o._)("div",eK,[(0,o._)("div",eG,[l[5]||(l[5]=(0,o._)("label",null,"Subsetting",-1)),(0,o.wy)((0,o._)("input",{class:"form-control","onUpdate:modelValue":l[0]||(l[0]=e=>(0,o.SU)(i).glyphs=e),placeholder:"Enter characters here."},null,512),[[o.nr,(0,o.SU)(i).glyphs]])]),(0,o._)("div",eJ,[l[7]||(l[7]=(0,o._)("label",null,"Subsetting mode",-1)),(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":l[1]||(l[1]=e=>(0,o.SU)(i).subsetMode=e)},l[6]||(l[6]=[(0,o._)("option",{value:"exclude"},"Exclude these glyphs.",-1),(0,o._)("option",{value:"include"},"Include only these glyphs.",-1)]),512),[[o.bM,(0,o.SU)(i).subsetMode]])])]),(0,o.SU)(i).unicodeRange?((0,o.wg)(),(0,o.iD)("div",eQ,"unicode-range: "+(0,o.zw)((0,o.SU)(i).unicodeRange)+";",1)):(0,o.kq)("",!0),(0,o.Wm)(eW),(0,o._)("div",eX,[(0,o._)("div",e0,[(0,o._)("div",e1,[l[8]||(l[8]=(0,o._)("label",{class:"col-8 col-form-label text-end"},[(0,o.Uk)(" Additional line height "),(0,o._)("span",{class:"text-info",title:"Only works in supported environments. The preview here is the simulated result."},"ⓘ")],-1)),(0,o._)("div",e2,[(0,o.wy)((0,o._)("input",{class:"form-control",type:"number","onUpdate:modelValue":l[2]||(l[2]=e=>(0,o.SU)(i).options.lineHeight=e),onBlur:t,placeholder:"in font units"},null,544),[[o.nr,(0,o.SU)(i).options.lineHeight,void 0,{number:!0}]])])])]),(0,o._)("div",e3,[(0,o._)("div",e5,[l[9]||(l[9]=(0,o._)("label",{class:"col-8 col-form-label text-end"},"Additional letter spacing",-1)),(0,o._)("div",e4,[(0,o.wy)((0,o._)("input",{class:"form-control",type:"number","onUpdate:modelValue":l[3]||(l[3]=e=>(0,o.SU)(i).options.spacing=e),onBlur:t,placeholder:"in font units"},null,544),[[o.nr,(0,o.SU)(i).options.spacing,void 0,{number:!0}]])])])])]),(0,o.Wm)(eC),(0,o._)("div",e8,[(0,o._)("div",e6,[(0,o._)("button",{class:(0,o.C_)(["btn btn-lg",(0,o.SU)(i).message?"btn-success":"btn-primary"]),type:"button",onClick:l[4]||(l[4]=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,o.SU)(Z)&&(0,o.SU)(Z)(...t)}),disabled:(0,o.SU)(i).running},[(0,o.Uk)((0,o.zw)((0,o.SU)(i).message||"Generate font!")+" ",1),(0,o.SU)(i).running?((0,o.wg)(),(0,o.iD)("span",e7)):(0,o.kq)("",!0)],10,e9)]),(0,o.SU)(i).url?((0,o.wg)(),(0,o.iD)("div",te,[(0,o._)("a",{class:"btn btn-lg btn-success",href:(0,o.SU)(i).url,download:(0,o.SU)(i).download},"Download font",8,tt)])):(0,o.kq)("",!0)])])):(0,o.kq)("",!0)}}),tn={class:"modal fade",id:"local","data-bs-backdrop":"static"},ta={class:"modal-dialog modal-dialog-centered"},to={class:"modal-content"},ti={class:"modal-body"},ts=["value","textContent"],tr=["value","hidden","disabled"],tc={key:0,class:"mt-3"},tu={class:"modal-footer"},tf=["disabled"],td=(0,o.aZ)({__name:"local",setup(e){var t,l;let n=parseInt((null==(l=navigator.userAgentData)||null==(t=l.brands.find(e=>"Chromium"==e.brand))?void 0:t.version)??"0");function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.localFamily,t=i.localFonts.filter(t=>t.family==e);if(!t.length)return"";let l=t.find(e=>"Regular"==e.style);return l||(t.sort((e,t)=>e.fullName.length-t.fullName.length),l=t[0]),`font-family:'local ${l.fullName}'`}function s(e){if(!e){if(""===i.localFont)return"";e=i.localFonts[i.localFont]}return`font-family:'local ${e.fullName}'`}let r=(0,o.Fl)(()=>{if(!i.localFonts.length)return[];let e=new Set;for(let t of i.localFonts)e.add(t.family);return[...e]});function c(){i.localFont=i.localFonts.findIndex(e=>e.family==i.localFamily)}return(e,t)=>((0,o.wg)(),(0,o.iD)("div",tn,[(0,o._)("div",ta,[(0,o._)("div",to,[t[6]||(t[6]=(0,o._)("div",{class:"modal-header"},[(0,o._)("h4",null,"Select local font")],-1)),(0,o._)("div",ti,[(0,o.wy)((0,o._)("select",{class:"form-select mb-3","onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.SU)(i).localFamily=e),required:"",onChange:c,style:(0,o.j5)(a())},[t[4]||(t[4]=(0,o._)("option",{value:"",hidden:""},"Select local font family",-1)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.value,(e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e,textContent:(0,o.zw)(e),style:(0,o.j5)(a(e))},null,12,ts))),128))],36),[[o.bM,(0,o.SU)(i).localFamily]]),(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=e=>(0,o.SU)(i).localFont=e),required:"",style:(0,o.j5)(s())},[t[5]||(t[5]=(0,o._)("option",{value:"",hidden:""},"Select font style",-1)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,o.SU)(i).localFonts,(e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:t,style:(0,o.j5)(s(e)),hidden:e.family!=(0,o.SU)(i).localFamily,disabled:(0,o.SU)(i).unavailableFonts.includes(e.postscriptName)},(0,o.zw)(e.fullName),13,tr))),128))],4),[[o.bM,(0,o.SU)(i).localFont,void 0,{number:!0}]]),109>(0,o.SU)(n)?((0,o.wg)(),(0,o.iD)("div",tc," Note: This is an experimental feature and it may not work for manually installed fonts. If it doesn't work for a particular font, you can still upload the font file manually. This is a bug in Chromium and will be fixed in version 109. ")):(0,o.kq)("",!0)]),(0,o._)("div",tu,[(0,o._)("button",{class:"btn btn-secondary",type:"button",onClick:t[2]||(t[2]=e=>(0,o.SU)(i).localFont=""),"data-bs-dismiss":"modal"},"Cancel"),(0,o._)("button",{class:"btn btn-primary",type:"button",onClick:t[3]||(t[3]=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,o.SU)(j)&&(0,o.SU)(j)(...t)}),disabled:"number"!=typeof(0,o.SU)(i).localFont},"OK",8,tf)])])])]))}}),tm={class:"container py-3 px-sm-2 px-md-3 px-lg-5"},tp={class:"card bg-light"},tg={class:"card-body"},ty=(0,o.aZ)({__name:"app",setup:e=>(e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(A),(0,o._)("div",tm,[t[0]||(t[0]=(0,o._)("div",{class:"mb-3 d-flex justify-content-end",style:{gap:"1rem"}},[(0,o._)("a",{class:"btn btn-secondary btn-sm",href:"https://github.com/MuTsunTsai/fontfreeze"},"\uD83D\uDCDC User manual"),(0,o._)("a",{class:"btn btn-secondary btn-sm",href:"https://github.com/MuTsunTsai/fontfreeze/issues"},"\uD83D\uDC1B Report issue")],-1)),(0,o._)("div",tp,[(0,o._)("div",tg,[(0,o.Wm)(B),(0,o.Wm)(tl),(0,o.Wm)(td)])]),t[1]||(t[1]=(0,o.uE)('<div class="row justify-content-center mt-3 gx-2 gy-3"><div class="col-auto"><a href="https://www.buymeacoffee.com/mutsuntsai" target="_blank"><img width="235" height="50" src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=☕&amp;slug=mutsuntsai&amp;button_colour=6f431f&amp;font_colour=ffffff&amp;font_family=Lato&amp;outline_colour=ffffff&amp;coffee_colour=FFDD00&amp;v=1"></a></div><div class="col-auto"><a href="https://www.producthunt.com/posts/fontfreeze?utm_source=badge-featured&amp;utm_medium=badge&amp;utm_souce=badge-fontfreeze" target="_blank"><img class="product-hunt" style="width:235px;height:50px;" width="235" height="50"></a></div></div>',1))])],64))});(0,o.ri)(ty).mount("#app")}},t={};function l(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,l),o.exports}l.m=e,l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.u=e=>"static/js/async/worker.72dbf919.js",l.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];l.O=(t,n,a,o)=>{if(n){o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[n,a,o];return}for(var s=1/0,i=0;i<e.length;i++){for(var[n,a,o]=e[i],r=!0,c=0;c<n.length;c++)(!1&o||s>=o)&&Object.keys(l.O).every(e=>l.O[e](n[c]))?n.splice(c--,1):(r=!1,o<s&&(s=o));if(r){e.splice(i--,1);var u=a();void 0!==u&&(t=u)}}return t}})(),l.p="/fontfreeze/",l.rv=()=>"1.3.10",(()=>{l.b=document.baseURI||self.location.href;var e={980:0};l.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[i,s,r]=n,c=0;if(i.some(t=>0!==e[t])){for(a in s)l.o(s,a)&&(l.m[a]=s[a]);if(r)var u=r(l)}for(t&&t(n);c<i.length;c++)o=i[c],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(u)},n=self.webpackChunkfontfreeze=self.webpackChunkfontfreeze||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),l.ruid="bundler=rspack@1.3.10";var n=l.O(void 0,["139","257"],function(){return l(880)});n=l.O(n)})();